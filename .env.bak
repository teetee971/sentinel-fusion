
# 1c) Recharge proprement dans la session
export $(grep -v '^#' .env | xargs)

# 1d) Double-check en mémoire
printf 'ACCOUNT_ID=%s\nCF_API_TOKEN=%s\n' "$ACCOUNT_ID" "${CF_API_TOKEN:0:5}…"# --- Cloudflare credentials ---
CF_API_TOKEN=-zg2dEd778dlAv3l0M-kF59pLCmnAfBOpEANY5ei
ACCOUNT_ID=78642e56f72fff94c78e1ef87cb589a7

# --- Projet Pages ---
PROJECT_NAME=sentinelquantumvanguardaiapro
BRANCH_NAME=main
# --- Cloudflare credentials ---
CF_API_TOKEN=zg2dEd778dLAv3LOM-kF59pLCmnAfB0pEANY5ei
ACCOUNT_ID=78642e56f72fff94c78e1ef87cb589a7

# --- Projet Pages ---
PROJECT_NAME=sentinelquantumvanguardiapro
BRANCH_NAME=main
export $(grep -v '^#' .env | xargs)
echo "$ACCOUNT_ID" | wc -c      # longueur non nulle attendue
curl -sS -H "Authorization: Bearer $CF_API_TOKEN" \
  "https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/pages/projects" \
  | jq -r '.result[].name'
# --- Cloudflare credentials ---
CF_API_TOKEN=zg2dEd778dLAv3LOM-kF59pLCmnAfBOpEANY5ei
ACCOUNT_ID=78642e56f72fff94c78e1ef87cb589a7

# --- Projet Pages ---
PROJECT_NAME=sentinelquantumvanguardiapro
BRANCH_NAME=main
# 1) enlever d'éventuels CRLF Windows (au cas où)
sed -i 's/\r$//' .env

# 2) recharger les variables dans la session
set -a; . ./.env; set +a

# 3) test rapide
echo "$ACCOUNT_ID" | wc -c          # doit afficher un nombre > 1
curl -sS -H "Authorization: Bearer $CF_API_TOKEN" \
  "https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/pages/projects" \
  | jq -r '.result[].name'


